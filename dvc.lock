schema: '2.0'
stages:
  prepare:
    cmd: python src/job_post_nlp/prepare.py
    deps:
    - path: data/Jobnet.xlsx
      hash: md5
      md5: 26964e5ea3bf422d0f744b6fab9af448
      size: 13307578
    - path: src/job_post_nlp/prepare.py
      hash: md5
      md5: 08664235a4f9fe3bdc1b77d378d0db74
      size: 11772
    params:
      params.yaml:
        prepare:
          settings:
            nobs: -1
            batch_size: 50
            threads: 4
          preprocessing:
            model: da_core_news_sm
            pipeline:
            - tok2vec
            - lemmatizer
            keep_negations: true
          tdm:
            tdm_cell: binary
            ngram_n: 2
            min_df:
            - 1
            - 0.01
            - 0.01
            - 0.01
            - 0.01
    outs:
    - path: data/corpus.spacy
      hash: md5
      md5: 491ccc10e5d0d28f4a5aaf0962c27913
      size: 45812937
    - path: data/tdm.parquet
      hash: md5
      md5: b072a221825b75b8ca855105480b4975
      size: 33453892
  train:
    cmd: python src/job_post_nlp/train.py
    deps:
    - path: data/tdm.parquet
      hash: md5
      md5: b072a221825b75b8ca855105480b4975
      size: 33453892
    - path: src/job_post_nlp/train.py
      hash: md5
      md5: 2b2deb37b0d8fec18d25c2cac05c30f9
      size: 3211
    params:
      params.yaml:
        train:
          settings:
            verbose: false
            max_iter: 200
            seed: 17
          corex:
            n_topics: 50
            anchors:
            - - løn
              - betaling
              - penge
            - - lønforhøjelse
              - stigning
              - forhøjelse
            - - bonus
              - performance
              - penge
              - aktie
            - - salg
              - komision
              - kvote
            - - ferie
              - sygedage
              - orlov
              - betalt
              - fri
              - fridage
            - - forsikring
              - sundhedsforsikring
              - tandlæge
              - syn
            - - pension
              - tilbagetrækning
            - - tilbud
              - fordele
              - medarbejderfordele
            - - frokost
              - betalt frokost
              - kantine
              - mad
              - gratis
            - - work life
              - balance
              - life balance
            - - timer
              - fuld tid
              - fuldtid
              - deltid
            - - timer
              - vagt
              - skema
              - flextid
              - flex tid
            - - pause
              - hvile
              - toilet
              - frokost
              - frokostpause
            - - kontor
              - skrivebord
              - bygning
              - kontorbygning
            - - pendle
              - pendling
              - transport
              - parkering
              - bus
              - tog
              - køre
            - - arbejde hjemme
              - hjemmearbejde
              - hjemme
              - hjem
              - remote
              - hjemmefra
              - hjemmekontor
            - - by
              - metro
              - tog
              - lokation
            - - autonomi
              - selv
              - ansvar
              - uafhængig
            - - respekt
              - chikane
              - sexchikane
              - behandle
              - fjendtlig
              - chikanere
              - mobning
              - mobbe
            - - kommunikation
              - problem
              - bekymring
              - møde
              - snakke
            - - hjælp
              - hjælpe
              - støtte
            - - udfordring
              - svær
              - smerte
              - nemt
            - - kræve
              - krævende
              - krav
              - obligatorisk
              - valgfri
            - - stress
              - pres
              - krævende
            - - tempo
              - hurtig
              - fart
            - - skade
              - farlig
              - sikkerhed
              - forhold
              - arbejdsplads
            - - hård
              - indsats
              - belønning
            - - moral
              - atmosfære
            - - sjov
              - kedelig
              - spændende
              - repetitiv
              - gentagelse
            - - kultur
              - værdier
              - miljø
              - mission
              - arbejdsmiljø
            - - diversitet
              - mangfoldighed
              - etnicitet
              - etnisk
              - multikulturel
              - inklusiv
              - lgbt
              - lgbtq
              - inklusion
              - ligestilling
            - - lederskab
              - lederevne
              - leder
              - ledelse
            - - politik
              - politisk
              - bureaukrati
              - regler
            - - forandring
              - forskel
            - - fyre
              - fyring
              - afsked
              - afskedigelse
              - fyringsrunde
              - udskiftning
              - udskifte
            - - karriere
              - vækst
              - udvikling
              - vokse
            - - forfremmelse
              - forfremme
              - jobtitel
              - titel
            - - erfaring
              - joberfaring
            - - udvikling
              - udvikle
              - evne
            - - træne
              - træning
            - - internship
              - intern
              - mentor
              - praktik
              - praktikforløb
              - praktikant
            - - hyre
              - rekruttere
              - interview
              - samtale
              - lære
            - - kontrakt
              - tilbud
              - underskrive
              - underskrift
            - - industri
              - marked
              - startup
              - nyopstartet
              - organisation
              - projekt
              - produkt
              - teknolgi
              - strategi
              - design
            - - boss
              - chef
              - leder
              - ejer
            - - kollega
              - folk
              - menneske
              - ven
              - familie
              - medarbejder
            - - team
              - teamwork
              - samarbejde
            - - kunde
              - klient
            - []
            - []
            anchor_strength: 9
    outs:
    - path: models/corex_model.pkl
      hash: md5
      md5: 81fef596b593a3e91803ed2e605e7a95
      size: 188647944
  evaluate:
    cmd: python src/job_post_nlp/evaluate.py
    deps:
    - path: models/corex_model.pkl
      hash: md5
      md5: 81fef596b593a3e91803ed2e605e7a95
      size: 188647944
    - path: src/job_post_nlp/evaluate.py
      hash: md5
      md5: 2cf11c28441eabf622f1e729ecccb455
      size: 6204
